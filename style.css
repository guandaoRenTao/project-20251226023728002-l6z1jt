:root{
  --bg:#f5f7fb;
  --panel:#ffffff;
  --text:#0a0a0a;
  --muted:#666;
  --accent:#0b63d6;
  --button:#e6e9ef;
  --button-active:#d0d6e6;
  --danger:#d64545;
  --radius:12px;
}

html.dark{
  --bg:#0b0f14;
  --panel:#0f1417;
  --text:#e6eef6;
  --muted:#9aa6b2;
  --accent:#4ea1ff;
  --button:#1a2228;
  --button-active:#263038;
  --danger:#ff6b6b;
}

*{box-sizing:border-box}
body{margin:0;font-family:Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;font-size:16px;background:var(--bg);color:var(--text);display:flex;align-items:center;justify-content:center;height:100vh;padding:16px}
.calculator{width:100%;max-width:420px;background:linear-gradient(180deg,var(--panel),var(--panel));border-radius:var(--radius);padding:16px;box-shadow:0 8px 30px rgba(2,6,23,0.2)}
.calc-header{display:flex;justify-content:flex-end;margin-bottom:12px}
.theme-toggle{display:flex;align-items:center;gap:8px}
.theme-toggle button{background:transparent;border:1px solid transparent;padding:6px 10px;border-radius:8px;cursor:pointer;color:var(--text)}
.display{background:transparent;padding:14px;border-radius:10px;min-height:84px;display:flex;flex-direction:column;align-items:flex-end;gap:6px}
.expression{font-size:20px;color:var(--muted);min-height:22px;word-break:break-all}
.result{font-size:28px;font-weight:600;min-height:30px}
.grid{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-top:8px}
.button{background:var(--button);border:0;padding:16px;border-radius:10px;font-size:18px;cursor:pointer;box-shadow:inset 0 -2px rgba(0,0,0,0.03);transition:transform .06s,background .06s}
.button:active{transform:translateY(1px);background:var(--button-active)}
.button.operator{background:linear-gradient(180deg,var(--accent),#2b7de6);color:white}
.button.wide{grid-column:span 2}
.footer{display:flex;gap:8px;align-items:center;margin-top:12px}
.footer button{flex:1;padding:10px;border-radius:10px;border:0;background:var(--button);cursor:pointer}
.history{margin-top:8px;background:rgba(0,0,0,0.03);padding:10px;border-radius:8px;max-height:160px;overflow:auto}
.visually-hidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
@media (max-width:420px){.button{padding:12px;font-size:16px}.result{font-size:22px}}
